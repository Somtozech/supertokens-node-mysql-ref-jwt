version: 2
jobs:
  deploy_gh_pages:
    docker:
      - image: circleci/node:8.10.0
    steps:
      - add_ssh_keys:
          fingerprints:
            - "ce:d8:2f:5c:c1:04:ac:05:75:96:71:76:a4:2d:da:4f"
      - checkout
      - run: (cd website && npm i)
      - run: git config --global user.email "rishabh.poddar@gmail.com"
      - run: git config --global user.name "Rishabh Poddar"
      - run: ./publishToGit.sh

workflows:
  version: 2
  tagged-build:
    jobs:
      - deploy_gh_pages:
          filters:
            branches:
              only: 
                - website