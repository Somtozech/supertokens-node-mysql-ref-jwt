<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>JWT Signing key rotation · SuperTokens</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="One bottleneck of using JWTs is that their security depends on keeping their private signing key a secret. If someone was to get access to this, they could change the contents of any JWT as per their will. "/><meta name="docsearch:version" content="5.0.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="JWT Signing key rotation · SuperTokens"/><meta property="og:type" content="website"/><meta property="og:url" content="https://supertokens.github.io/supertokens-node-mysql-ref-jwt//supertokens-node-mysql-ref-jwt/"/><meta property="og:description" content="One bottleneck of using JWTs is that their security depends on keeping their private signing key a secret. If someone was to get access to this, they could change the contents of any JWT as per their will. "/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/supertokens-node-mysql-ref-jwt/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-143540696-1"></script><script type="text/javascript" src="/supertokens-node-mysql-ref-jwt/scripts/homeButtonListener.js"></script><script type="text/javascript" src="/supertokens-node-mysql-ref-jwt/scripts/utils.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100,"backgroundColor":"#999999","textColor":"#222222"}
          )
        });
        </script><script src="/supertokens-node-mysql-ref-jwt/js/scrollSpy.js"></script><link rel="stylesheet" href="/supertokens-node-mysql-ref-jwt/css/main.css"/><script src="/supertokens-node-mysql-ref-jwt/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/supertokens-node-mysql-ref-jwt/"><img class="logo" src="/supertokens-node-mysql-ref-jwt/img/superTokens.png" alt="SuperTokens"/><h2 class="headerTitleWithLogo">SuperTokens</h2></a><a href="/supertokens-node-mysql-ref-jwt/versions"><h3>5.0.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/supertokens-node-mysql-ref-jwt/docs/introduction/what-and-why" target="_self">Docs</a></li><li class=""><a href="https://supertokens.io/discord" target="_self">Discord</a></li><li class=""><a href="https://supertokens.io/blog/the-best-way-to-securely-manage-user-sessions" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">JWT Signing key rotation</h1></header><article><div><span><p>One bottleneck of using JWTs is that their security depends on keeping their private signing key a secret. If someone was to get access to this, they could change the contents of any JWT as per their will.</p>
<p>For example, they could sign in to your application with their credentials, get their JWT access token, and then change the userId in it to some other user. This would result in them getting access to that user's account!</p>
<p>Hence it is very important to keep this key a secret. However, from a security point of view we know that it is impossible to guarantee that. If your signing key does get stolen, then the best next step would be to immediately replace it.</p>
<p>Changing the JWT signing key would immediately invalidate all existing JWTs. This would mean that if any user were to call any of your authentication API, they would fail to validate their identity. This would then result in a <code>TRY_REFRESH_TOKEN</code> error, which would then result in the users using their refresh token and getting a new access key signed by the new signing key. <span class="highlighted-text">Overall, your users would not notice any disruption, and your system would remain secure.</span></p>
<p>One problem with the argument above is that it keeps your system secure only if you know that a key theft has occurred. It is very possible that you may not even realise that that has happened! Hence, we have a feature of <span class="highlighted-text">automatic JWT signing key rotation - if you let us manage your JWT signing key, we will keep changing it every fixed time period</span>. To set this time period, or entirely switch off this feature see the <a href="config">Configurations</a> section.</p>
<div class="specialNote">
If you decide to manually change the JWT key, it is best to then restart all your node processes so that they can all be in sync. It is OK even if you do not do this, but it may result in many more calls to your refresh session API.
</div></span></div></article></div><div class="docs-prevnext"></div></div></div></div></div></body></html>